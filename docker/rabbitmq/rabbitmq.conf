# RabbitMQ Configuration for Conduit
# ===================================

# Explicitly permit deprecated management metrics collection
# This silences deprecation warnings while maintaining current functionality
# See: https://github.com/knnlabs/Conduit/issues/XXX
deprecated_features.permit.management_metrics_collection = true

# Performance Tuning
# ==================
# Optimized for high-throughput message processing
vm_memory_high_watermark.relative = 0.6
disk_free_limit.absolute = 1GB

# Management Plugin
# =================
# management.load_definitions = /etc/rabbitmq/definitions.json

# Networking
# ==========
# Increase connection limits for high-concurrency scenarios
tcp_listen_options.backlog = 512
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0

# Message TTL and Limits
# ======================
# Set reasonable defaults to prevent queue overflow
max_message_size = 134217728
channel_max = 2047